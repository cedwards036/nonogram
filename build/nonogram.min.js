/*! nonogram 2020-03-22 */

"use strict";!function u(c,a,l){function s(e,t){if(!a[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(i)return i(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[e]={exports:{}};c[e][0].call(o.exports,function(t){return s(c[e][1][t]||t)},o,o.exports,u,c,a,l)}return a[e].exports}for(var i="function"==typeof require&&require,t=0;t<l.length;t++)s(l[t]);return s}({1:[function(t,e,n){var r,u={EMPTY:"empty",FILLED:"filled",BLANK:"blank"},o={FILL:"fill",BLANK:"blank"},c=(a(r={},u.EMPTY,o.FILL,u.FILLED),a(r,u.EMPTY,o.BLANK,u.BLANK),a(r,u.FILLED,o.FILL,u.EMPTY),a(r,u.FILLED,o.BLANK,u.EMPTY),a(r,u.BLANK,o.BLANK,u.EMPTY),a(r,u.BLANK,o.FILL,u.EMPTY),r);function a(t,e,n,r){t.hasOwnProperty(e)||(t[e]={}),t[e][n]=r}function l(t,e){if(0===t||0===e)return[];for(var n=[],r=0;r<t;r++){n.push([]);for(var o=0;o<e;o++)n[r].push(u.EMPTY)}return n}e.exports={generateCreationGame:function(t,e){for(var n={rowCounts:[],colCounts:[]},r=0;r<t;r++)n.rowCounts.push([0]);for(var o=0;o<e;o++)n.colCounts.push([0]);return n.board=l(t,e),n},generateCreationBoard:l,interactWithCell:function(t,e,n,r){var o=r.board[e][n];return r.board[e][n]=c[o][t],r},updateColumnCounts:function(t,e){for(var n=[],r=0,o=0;r<t.board.length;){for(;r<t.board.length&&t.board[r][e]===u.FILLED;)o++,r++;0<o&&(n.push(o),o=0),r++}return 0===n.length?t.colCounts[e]=[0]:t.colCounts[e]=n,t},updateRowCounts:function(t,e){for(var n=[],r=0,o=0;r<t.board[0].length;){for(;r<t.board[0].length&&t.board[e][r]===u.FILLED;)o++,r++;0<o&&(n.push(o),o=0),r++}return 0===n.length?t.rowCounts[e]=[0]:t.rowCounts[e]=n,t},STATES:u,MESSAGES:o}},{}],2:[function(t,e,n){var r,o=t("./board.js").generateCreationGame,u=t("./board.js").interactWithCell,c=t("../src/board.js").updateColumnCounts,a=t("../src/board.js").updateRowCounts,l=t("./board.js").STATES,s=t("./board.js").MESSAGES,i=o(5,5);function d(){var t=document.createElement("div");return t.setAttribute("class","row"),t}function f(t,e,n){var r=document.createElement("div");return C(r,E(t[e][n])),r.setAttribute("rowIdx",e),r.setAttribute("colIdx",n),r}function E(t){switch(t){case l.EMPTY:return"empty-cell";case l.FILLED:return"filled-cell";case l.BLANK:return"blank-cell"}}function C(t,e){t.setAttribute("class","cell "+e)}function m(t,e,n){var r=e.getAttribute("rowIdx"),o=e.getAttribute("colIdx");u(n,r,o,t),function(t,e){c(t,e);var n=function(t){return document.getElementById("colCounts").getElementsByClassName("counts-col")[t]}(e);console.log(n),b(n,t.colCounts[e])}(t,o),function(t,e){a(t,e);var n=function(t){return document.getElementById("rowCounts").getElementsByClassName("counts-col")[t]}(e);console.log(n),b(n,t.rowCounts[e])}(t,r),C(e,E(t.board[r][o]))}function L(t,r){return t.forEach(function(t){var e,n;r.appendChild((e=t,(n=document.createElement("div")).setAttribute("class","counts-col"),b(n,e)))}),r}function b(r,t){return function(t){for(;t.firstChild;)t.removeChild(t.lastChild)}(r),t.forEach(function(t){var e,n;r.appendChild((e=t,(n=document.createElement("div")).textContent=e,n.setAttribute("class","count"),n))}),r}(function(t){for(var e=document.getElementById("cellGrid"),n=0;n<t.board.length;n++){for(var r=d(),o=0;o<t.board[n].length;o++)r.appendChild(f(t.board,n,o));e.appendChild(r)}})(r=i),function(t){L(t.rowCounts,document.getElementById("rowCounts"))}(r),function(t){L(t.colCounts,document.getElementById("colCounts"))}(r),Array.from(document.getElementsByClassName("cell")).forEach(function(t){t.addEventListener("click",function(){m(i,t,s.FILL)})}),Array.from(document.getElementsByClassName("cell")).forEach(function(e){e.addEventListener("contextmenu",function(t){m(i,e,s.BLANK),t.preventDefault()})})},{"../src/board.js":1,"./board.js":1}]},{},[1,2]);