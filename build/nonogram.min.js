/*! nonogram 2020-05-24 */

"use strict";!function u(l,c,a){function i(e,t){if(!c[e]){if(!l[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[e]={exports:{}};l[e][0].call(r.exports,function(t){return i(l[e][1][t]||t)},r,r.exports,u,l,c,a)}return c[e].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)i(a[t]);return i}({1:[function(t,e,n){var o,u={EMPTY:"empty",FILLED:"filled",BLANK:"blank"},r={FILL:"fill",BLANK:"blank"},l=(c(o={},u.EMPTY,r.FILL,u.FILLED),c(o,u.EMPTY,r.BLANK,u.BLANK),c(o,u.FILLED,r.FILL,u.EMPTY),c(o,u.FILLED,r.BLANK,u.EMPTY),c(o,u.BLANK,r.BLANK,u.EMPTY),c(o,u.BLANK,r.FILL,u.EMPTY),o);function c(t,e,n,o){t.hasOwnProperty(e)||(t[e]={}),t[e][n]=o}function a(t,e){if(0===t||0===e)return[];for(var n=[],o=0;o<t;o++){n.push([]);for(var r=0;r<e;r++)n[o].push(u.EMPTY)}return n}e.exports={generateCreationGame:function(t,e){for(var n={rowCounts:[],colCounts:[]},o=0;o<t;o++)n.rowCounts.push([0]);for(var r=0;r<e;r++)n.colCounts.push([0]);return n.board=a(t,e),n},generateCreationBoard:a,interactWithCell:function(t,e,n,o){var r=o.board[e][n];return o.board[e][n]=l[r][t],o},updateColumnCounts:function(t,e){for(var n=[],o=0,r=0;o<t.board.length;){for(;o<t.board.length&&t.board[o][e]===u.FILLED;)r++,o++;0<r&&(n.push(r),r=0),o++}return 0===n.length?t.colCounts[e]=[0]:t.colCounts[e]=n,t},updateRowCounts:function(t,e){for(var n=[],o=0,r=0;o<t.board[0].length;){for(;o<t.board[0].length&&t.board[e][o]===u.FILLED;)r++,o++;0<r&&(n.push(r),r=0),o++}return 0===n.length?t.rowCounts[e]=[0]:t.rowCounts[e]=n,t},STATES:u,MESSAGES:r}},{}],2:[function(t,e,n){var r=t("./board.js").generateCreationGame,i=t("./board.js").interactWithCell,d=t("../src/board.js").updateColumnCounts,s=t("../src/board.js").updateRowCounts,o=t("./board.js").STATES,u=t("./board.js").MESSAGES;function l(t,e,n){return/^\d+$/.test(t)&&n<=t&&t<=e}function c(t,e){var n,o=r(t,e);return function(t){for(var e=document.getElementById("cellGrid"),n=0;n<t.board.length;n++){for(var o=a(),r=0;r<t.board[n].length;r++)o.appendChild(m(t.board,n,r));e.appendChild(o)}}(n=o),function(t){L(t.rowCounts,document.getElementById("rowCounts"))}(n),function(t){L(t.colCounts,document.getElementById("colCounts"))}(n),Array.from(document.getElementsByClassName("cell")).forEach(function(t){t.addEventListener("click",function(){C(o,t,u.FILL)})}),Array.from(document.getElementsByClassName("cell")).forEach(function(e){e.addEventListener("contextmenu",function(t){C(o,e,u.BLANK),t.preventDefault()})}),o}function a(){var t=document.createElement("div");return t.setAttribute("class","row"),t}function m(t,e,n){var o=document.createElement("div");return E(o,f(t[e][n])),o.setAttribute("rowIdx",e),o.setAttribute("colIdx",n),o}function f(t){switch(t){case o.EMPTY:return"empty-cell";case o.FILLED:return"filled-cell";case o.BLANK:return"blank-cell"}}function E(t,e){t.setAttribute("class","cell "+e)}function C(t,e,n){var o,r,u,l,c=e.getAttribute("rowIdx"),a=e.getAttribute("colIdx");i(n,c,a,t),d(o=t,r=a),I(function(t){return document.getElementById("colCounts").getElementsByClassName("counts-col")[t]}(r),o.colCounts[r]),s(u=t,l=c),I(function(t){return document.getElementById("rowCounts").getElementsByClassName("counts-col")[t]}(l),u.rowCounts[l]),E(e,f(t.board[c][a]))}function L(t,o){return t.forEach(function(t){var e,n;o.appendChild((e=t,(n=document.createElement("div")).setAttribute("class","counts-col"),I(n,e)))}),o}function I(o,t){return function(t){for(;t.firstChild;)t.removeChild(t.lastChild)}(o),t.forEach(function(t){var e,n;o.appendChild((e=t,(n=document.createElement("div")).textContent=e,n.setAttribute("class","count"),n))}),o}c(5,5),document.getElementById("xDimensionInput").defaultValue=5,document.getElementById("yDimensionInput").defaultValue=5,document.getElementById("dimensionsForm").onsubmit=function(){var t=document.getElementById("yDimensionInput").value,e=document.getElementById("xDimensionInput").value;l(t,15,1)&&l(e,15,1)?(document.getElementById("cellGrid").innerHTML="",document.getElementById("colCounts").innerHTML="",document.getElementById("rowCounts").innerHTML="",c(t,e)):(document.getElementById("yDimensionInput").value=document.getElementById("rowCounts").childElementCount,document.getElementById("xDimensionInput").value=document.getElementById("colCounts").childElementCount,alert("ERROR: invalid dimensions"));return!1}},{"../src/board.js":1,"./board.js":1}]},{},[1,2]);